import mandrill

def accountmail(mailto,id,ip,port,password,encryption,name):
    sm = mandrill.Mandrill('jUobqWd9dIvo3wmWGGo9dg')
    message = {
        'html' : u'\u003C\u0070\u003E\u0049\u0044\uFF1A%s\u7684\u5E10\u53F7\u4FE1\u606F\u5982\u4E0B\uFF1A\u003C\u0062\u0072\u002f\u003E\u000A\u0049\u0050\uFF1A%s\u003C\u0062\u0072\u002f\u003E\u000A\u7AEF\u53E3\uFF1A%s\u003C\u0062\u0072\u002f\u003E\u000A\u5BC6\u7801\uFF1A%s\u003C\u0062\u0072\u002f\u003E\u000A\u52A0\u5BC6\u65B9\u5F0F\uFF1A%s\u003C\u0062\u0072\u002f\u003E\u000A\u63D0\u4F9B\u8005\uFF1A%s\u003C\u0062\u0072\u002f\u003E\u003C\u002f\u0070\u003E\u000A\u000A\u000A\u003C\u0061\u0020\u0068\u0072\u0065\u0066\u003D\u0022\u0068\u0074\u0074\u0070\u0073\u003A\u002f\u002f\u0077\u0077\u0077\u002e\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u002f\u0022\u0020\u0074\u0061\u0072\u0067\u0065\u0074\u003D\u0022\u005f\u0062\u006c\u0061\u006e\u006b\u0022\u003E\u0068\u0074\u0074\u0070\u0073\u003A\u002f\u002f\u0077\u0077\u0077\u002e\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u002f\u003C\u002f\u0061\u003E\u000A\u003C\u0062\u0072\u002f\u003E\u003C\u0073\u0074\u0072\u006f\u006e\u0067\u003E\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7\u003C\u002f\u0073\u0074\u0072\u006f\u006e\u0067\u003E' % (id,ip,port,password,encryption,name),
        'subject' : u'\u005B%s\u005D\u60A8\u7533\u8BF7\u83B7\u53D6\u7684\u0053\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u5E10\u53F7\u4FE1\u606F' % id,
        'from_email' : 'no-reply@shadowsocks.net',
        'from_name' : u'\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7',
        'to' : [{'email' : '%s' % mailto,
                 'type' : 'to'}],
        'important' : True,
        'track_opens' : True,
        }
    sm.messages.send(message=message,async=False,ip_pool='Main Pool')

def monitorup(mailto,ip):
    sm = mandrill.Mandrill('jUobqWd9dIvo3wmWGGo9dg')
    message = {
        'html' : u'\u003C\u0070\u003E\u60A8\u597D\uFF0C\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u60A8\u5728\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7\u6240\u5206\u4EAB\u7684\u5E10\u53F7\uFF0C\u6839\u636E\u6211\u4EEC\u7CFB\u7EDF\u7684\u76D1\u63A7\u663E\u793A\u5DF2\u7ECF\u6062\u590D\u6B63\u5E38\u4E86\u3002\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u5982\u6709\u9700\u8981\u5E2E\u52A9\u7684\u5730\u65B9\uFF0C\u6B22\u8FCE\u8054\u7CFB\u003C\u0061\u0020\u0068\u0072\u0065\u0066\u003D\u0022\u006d\u0061\u0069\u006c\u0074\u006f\u003A\u0061\u0064\u006d\u0069\u006e\u0040\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u0022\u003E\u0061\u0064\u006d\u0069\u006e\u0040\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u003C\u002f\u0061\u003E\uFF01\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u795D\u597D\u003C\u002f\u0070\u003E\u000A\u003C\u0062\u0072\u002f\u003E\u000A\u003C\u0073\u006d\u0061\u006c\u006c\u003E\u002a\u0028\u0049\u0050\uFF1A%s\u0029\u003C\u002f\u0073\u006d\u0061\u006c\u006c\u003E' % ip,
        'subject' : u'\u0053\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u5E10\u53F7\u6062\u590D\u53EF\u7528\u901A\u77E5',
        'from_email' : 'no-reply@shadowsocks.net',
        'from_name' : u'\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7',
        'to' : [{'email' : '%s' % mailto,
                 'type' : 'to'}],
        'important' : True,
        'track_opens' : True,
        }
    sm.messages.send(message=message,async=False,ip_pool='Main Pool')

def monitordown(mailto,ip):
    sm = mandrill.Mandrill('jUobqWd9dIvo3wmWGGo9dg')
    message = {
        'html' : u'\u003C\u0070\u003E\u60A8\u597D\uFF0C\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u60A8\u5728\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7\u6240\u5206\u4EAB\u7684\u5E10\u53F7\uFF0C\u6839\u636E\u6211\u4EEC\u7CFB\u7EDF\u7684\u76D1\u63A7\u663E\u793A\u5DF2\u7ECF\u65E0\u6CD5\u4F7F\u7528\u4E86\u3002\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u8BF7\u68C0\u67E5\u65E0\u6CD5\u4F7F\u7528\u7684\u539F\u56E0\uFF0C\u5982\u6709\u9700\u8981\u5E2E\u52A9\u7684\u5730\u65B9\uFF0C\u6B22\u8FCE\u8054\u7CFB\u003C\u0061\u0020\u0068\u0072\u0065\u0066\u003D\u0022\u006d\u0061\u0069\u006c\u0074\u006f\u003A\u0061\u0064\u006d\u0069\u006e\u0040\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u0022\u003E\u0061\u0064\u006d\u0069\u006e\u0040\u0073\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u002e\u006e\u0065\u0074\u003C\u002f\u0061\u003E\uFF01\u003C\u002f\u0070\u003E\u000A\u003C\u0070\u003E\u795D\u597D\u003C\u002f\u0070\u003E\u000A\u003C\u0062\u0072\u002f\u003E\u000A\u003C\u0073\u006d\u0061\u006c\u006c\u003E\u002a\u0028\u0049\u0050\uFF1A%s\u0029\u003C\u002f\u0073\u006d\u0061\u006c\u006c\u003E' % ip,
        'subject' : u'\u0053\u0068\u0061\u0064\u006f\u0077\u0073\u006f\u0063\u006b\u0073\u5E10\u53F7\u4E0D\u53EF\u7528\u901A\u77E5',
        'from_email' : 'no-reply@shadowsocks.net',
        'from_name' : u'\u0053\u0068\u0061\u0064\u006f\u0077\u0053\u006f\u0063\u006b\u0073\u516C\u76CA\u7EC4\u7EC7',
        'to' : [{'email' : '%s' % mailto,
                 'type' : 'to'}],
        'important' : True,
        'track_opens' : True,
        }
    sm.messages.send(message=message,async=False,ip_pool='Main Pool')


